
<style>
  table {
    border: 1px solid black;
    width: 100%;
  }
  /* Center the avatar image inside this container */
  .imgcontainer {
    text-align: left;
    margin: 24px 0 12px 0;
  }
  /* Avatar image */
  img.avatar {
  width: 15%;
  border-radius: 10%;
  }
  
    /* Add padding to containers */
  .container {
    padding-left: 50px;
    padding-bottom: 50px;
  }
  
  
  form  { display: table;      }
  p     { display: table-row;  }
  label { display: table-cell; 
          padding-right: 50px;
          padding-left: 50px;}
  input { display: table-cell; }
  
  /* Our buttons matches the grammarly colour :)*/
  button {
    background-color: #15c39a;
    color: white;
    padding: 14px 20px;
    margin: 10 0;
    border: none;
    cursor: pointer;
    width: 250px;
    font-weight:bold;
  }
    
  
  button:hover {
    opacity: 0.6;
  }
    
      /* Full-width inputs */
  textarea, select, input {
    width: 100%;
    padding: 12px 12px;
    margin: 8px 0;
    display: inline-block;
    border: 1px solid #ccc;
    box-sizing: border-box;
  }
  
  select {
    font-size: 18 ;
  
  }
  label{
      font-weight: bold;
  }
  
  input {
    width: auto,
    padding: 12px 20px;
    margin: 8px 0;
    display: inline-block;
    border: 1px solid #ccc;
    box-sizing: border-box;
  }
  
  h1{padding-left: 50px;}

</style>



<!DOCTYPE html>
<html>
<body>
<script type="text/javascript" src="preload.js"></script>
<script type="text/javascript" src="Sales_Rep.js"></script>

<div class="imgcontainer">
  <img src="grammarly.webp" alt="Avatar" class="avatar">
</div>

<!--display rep info dynamically depending on username-->
<h1 id="greet"> Welcome Back </h1>
<div class="container">
<p id = "sales">Your Total Sales are: </p>
<p id= "commission">Your Total Commission is:</p>
</div>

<!--Form to create a new deal-->
<div class="container">
<form id="myForm" onSubmit = "add_new_object(DealsList, 'DealsList', Deals)">
  <h2>Add a New Deal</h2>
  <p><label>Deal ID:</label><input type="text" name="dealID" required></input>
  <!--depricated beacuse it is now dynamic-->
  <!--<label>Rep ID:</label><input type="text" name="rID" required></input>-->
  </p><p><label>Business Name:</label> <input type="text" name="bname" required></input>
  </p><p><label>Contact 1 Name:</label> <input type="text" name="c1n" required></input>
  <label>Contact 1 Phone Number:</label> <input type="number" name="c1p" required></input>
  </p><p><label>Contact 2 Name:</label> <input type="text" name="c2n" value = "none"></input>
  <label>Contact 2 Phone Number:</label> <input type="number" name="c2p" value = 0></input>
  </p><p><label>Deal Type</label> <select name="dtype" size = "2" single required>
      <option value = "Educational">Educational</option>
      <option value = "Corporate">Corporate</option></select>
  </p><p><label>Forcaseted Deal Size ($)</label> <input type="number" name="dsizem" required></input>
  <label>Number of Users</label> <input type="number" name="dsizeu" required></input>
  </p><p><label>Deal Start Date</label> <input type="date" name="sdate" required></input>
  <label>Expected Closed Date</label> <input type="date" name="cdate" required></input>
  </p><p><label>Deal Stage</label> <select name="stage" size = "7" single required>
<!--using select to save time when entering deals -->
      <option value = "Awareness">Awareness</option>
      <option value = "Interest">Interest</option>
      <option value = "Consideration">Consideration</option>
      <option value = "Intent">Intent</option>
      <option value = "Evaluation">Evaluation</option>
      <option value = "Purchase">Purchase</option>
      <option value = "Closed">Closed</option></select>
  <label>Deal Note</label> <textarea name="notes" rows ="10" cols="30" placeholder = "Enter your notes here"></textarea>
  </p>
  <button type="submit" style="margin-left:50px; margin-top: 12px;">Add This Deal</button>
</form>
</div>

<!--table containing the deals for the specific rep-->
<div class="container">
<table id ="myrealtable">
<h2>Deal List</h2>
    <thead>
    <th>Deal ID</th>
    <th>Rep ID</th>
    <th>Business Name</th>
    <th>Contact 1 Name</th>
    <th>Contact 1 Phone</th>
    <th>Contact 2 Name</th>
    <th>Contact 2 Phone</th>
    <th>Deal Type</th>
    <th>Forcaseted Deal Size ($)</th>
    <th>Number of Users</th>
    <th>Start Date</th>
    <th>End Date</th>
    <th>Deal Stage</th>
    <th>Deal Note</th>
    
    </thead>
    <div style="overflow-x:auto;">
    <tbody id="mytable">
        
    </tbody>
    </div>
</table>
</div>

<!--onload scripts for this page, auto loads name, total sales and commission for the corresponding rep-->
<script>
  view_rep_deal();
  sales_com();
  document.getElementById("greet").innerHTML = "Welcome Back" + " " + rep_info(username, "name");
  document.getElementById("sales").innerHTML = "Your Total Sales are: $" + rep_info(username, "ts");
  document.getElementById("commission").innerHTML = "Your Total Commissions are: $" + rep_info(username, "tc");

</script>

<!--allow user to log out-->
<button style = "margin:0 auto; display:block; width:100%; background-color:orange; margin-top: 10px;" type="button" onclick = "window.location='Login.html';return false;">Log Out</button>
    </body>
</html>